(this["webpackJsonppixel-photography"]=this["webpackJsonppixel-photography"]||[]).push([[13],{121:function(e,t,s){"use strict";s(1);var n=s(85),c=s(2);t.a=function(){return Object(c.jsx)("div",{style:{height:"50vh"},className:"d-flex justify-content-center align-items-center",children:Object(c.jsx)(n.a,{variant:"danger",animation:"border",role:"status",children:Object(c.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})}},190:function(e,t,s){"use strict";s.r(t);var n=s(1),c=s(99),r=s(14),a=s(96),i=s.n(a),d=s(82),o=s(89),l=s(88),j=s(121),u=s(97),b=s(2),h=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),s=t[0],c=t[1],a=JSON.parse(sessionStorage.getItem("user")),h=Object(n.useState)(!0),x=Object(r.a)(h,2),O=x[0],m=x[1],p=Object(n.useState)(null),g=Object(r.a)(p,2),f=g[0],v=g[1];Object(n.useEffect)((function(){i.a.post(l.f,{email:null===a||void 0===a?void 0:a.email}).then((function(e){c(e.data.data.orders),m(!1)}))}),[a,f]);var N=function(e,t){i.a.patch(l.j,{id:e,status:t}).then((function(e){"success"===e.data.status?(v((new Date).getTime()),o.b.success("Order status updated successfully")):o.b.error("Something went wrong!")})).catch((function(e){o.b.error("Oops! Please try again later")}))};return Object(b.jsx)("section",{className:"py-5",children:O?Object(b.jsx)(j.a,{}):Object(b.jsx)(b.Fragment,{children:"admin"===(null===a||void 0===a?void 0:a.role)?Object(b.jsx)(d.a,{className:"my__orders__container d-flex align-items-center",children:s.length>0?Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{className:"bg-info",children:[Object(b.jsx)("th",{scope:"col",children:"Name"}),Object(b.jsx)("th",{scope:"col",children:"Email"}),Object(b.jsx)("th",{scope:"col",children:"Service"}),Object(b.jsx)("th",{scope:"col",children:"Cost"}),Object(b.jsx)("th",{scope:"col",children:"Status"}),Object(b.jsx)("th",{scope:"col",children:"Action"})]})}),Object(b.jsx)("tbody",{children:s.map((function(e){return Object(b.jsxs)("tr",{className:"bg-info",children:[Object(b.jsx)("th",{scope:"row",children:e.name}),Object(b.jsx)("td",{children:e.order_email}),Object(b.jsx)("td",{children:e.service.title}),Object(b.jsx)("td",{children:e.service.price}),Object(b.jsx)("td",{children:Object(b.jsx)("span",{className:"badge rounded-pill ".concat("pending"===e.status?"bg-warning":"inprogress"===e.status?"bg-primary":"done"===e.status?"bg-success":""),children:e.status})}),Object(b.jsxs)("td",{children:["pending"===e.status&&Object(b.jsx)("button",{onClick:function(){return N(e._id,"inprogress")},className:"btn btn-primary me-2",children:"inprogress"}),"pending"===e.status||"inprogress"===e.status?Object(b.jsx)("button",{onClick:function(){return N(e._id,"done")},className:"btn btn-success me-2",children:"done"}):""]})]},e._id)}))})]}):Object(b.jsx)(u.a,{data:"No order Found!"})}):Object(b.jsx)(u.a,{data:"404 Not Found!"})})})};t.default=function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(c.a,{}),Object(b.jsx)(h,{})]})}},87:function(e,t,s){"use strict";s(1);var n=s(82),c=s(83),r=s(80),a=s(179),i=s(16),d=s(95),o=s(94),l=s(92),j=s(7),u=s(89),b=s(2);t.a=function(){var e=Object(j.g)(),t=JSON.parse(sessionStorage.getItem("user"));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{children:Object(b.jsx)(u.a,{})}),Object(b.jsx)("div",{className:"bg-info text-primary border-bottom pt-3",children:Object(b.jsx)(n.a,{children:Object(b.jsxs)(c.a,{children:[Object(b.jsx)(r.a,{md:6,children:Object(b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(b.jsx)("p",{className:"fw-bold",children:"Welcome to PHOTIX."}),Object(b.jsxs)("p",{className:"badge bg-danger rounded-pill text-white fs-6",children:[Object(b.jsx)(i.d,{})," +123 (456) 7879"]})]})}),Object(b.jsx)(r.a,{md:6,children:Object(b.jsx)("div",{className:"d-flex justify-content-end gap-3 fw-bold",children:null!==t&&void 0!==t&&t.email?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(a.a.Link,{onClick:function(){return e.push("/dashboard/my-orders")},children:[Object(b.jsx)(l.a,{className:"fs-4"}),"dashboard"]}),Object(b.jsxs)(a.a.Link,{onClick:function(){return sessionStorage.removeItem("user"),u.b.success("You have signed out."),void setTimeout((function(){return e.push("/")}),2e3)},children:[Object(b.jsx)(o.a,{className:"fs-4"}),"sign out"]})]}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(a.a.Link,{onClick:function(){return e.push("/login")},children:[Object(b.jsx)(d.a,{className:"fs-4"}),"sign in"]}),Object(b.jsxs)(a.a.Link,{onClick:function(){return e.push("/register")},children:[Object(b.jsx)(d.b,{className:"fs-4"}),"sign up"]})]})})})]})})})]})}},88:function(e,t,s){"use strict";s.d(t,"c",(function(){return n})),s.d(t,"i",(function(){return c})),s.d(t,"a",(function(){return r})),s.d(t,"h",(function(){return a})),s.d(t,"d",(function(){return i})),s.d(t,"g",(function(){return d})),s.d(t,"f",(function(){return o})),s.d(t,"j",(function(){return l})),s.d(t,"e",(function(){return j})),s.d(t,"b",(function(){return u}));var n="/api/login",c="/api/signup",r="/api/add-service",a="/api/services",i="/api/take-order",d="/api/orders-by-each-user",o="/api/orders",l="/api/update-order-status",j="/api/manage-service",u="/api/delete-service"},97:function(e,t,s){"use strict";s(1);var n=s(80),c=s(2);t.a=function(e){var t=e.data;return Object(c.jsx)(n.a,{style:{height:"50vh"},className:"d-flex justify-content-center align-items-center text-center",children:Object(c.jsx)("h6",{className:"text-danger display-6 fw-bold fs-5",children:t})})}},99:function(e,t,s){"use strict";var n=s(180),c=s(82),r=s(179),a=s(7),i=s(19),d=s(87),o=s(2);t.a=function(){var e=Object(a.g)(),t=JSON.parse(sessionStorage.getItem("user"));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(d.a,{}),Object(o.jsx)(n.a,{bg:"info",expand:"lg",className:"navbar-light sticky-top",children:Object(o.jsxs)(c.a,{children:[Object(o.jsx)(i.b,{to:"/",children:Object(o.jsxs)(n.a.Brand,{className:"fw-bold text-primary",children:["PH",Object(o.jsx)("span",{className:"text-danger",children:"O"}),"TIX"]})}),Object(o.jsx)(n.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"text-primary border-primary"}),Object(o.jsx)(n.a.Collapse,{id:"basic-navbar-nav",children:Object(o.jsxs)(r.a,{className:"ms-auto fw-bold",children:[Object(o.jsx)(r.a.Link,{onClick:function(){return e.push("/dashboard/my-orders")},className:"text-primary ms-4",children:"My Orders"}),"admin"===(null===t||void 0===t?void 0:t.role)&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(r.a.Link,{onClick:function(){return e.push("/dashboard/manage-orders")},className:"text-primary ms-4",children:"Manage Orders"}),Object(o.jsx)(r.a.Link,{onClick:function(){return e.push("/dashboard/manage-services")},className:"text-primary ms-4",children:"Manage Services"}),Object(o.jsx)(r.a.Link,{onClick:function(){return e.push("/dashboard/add-service")},className:"text-primary ms-4",children:"Add Service"})]})]})})]})})]})}}}]);
//# sourceMappingURL=13.b79c72d0.chunk.js.map